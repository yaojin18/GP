1.什么是zookeeper？
zookeeper是分布式协调组件，主要用于解决一致性问题和分布式锁问题，可以用作注册中心，分布式锁。

2.zookeeper节点有哪些特性，什么时候使用什么特性的节点？
持久化节点、持久化有序节点、临时节点、临时有序节点、容器节点、TTL节点

注册中心和分布式锁用到了临时有序节点和watch机制

3.使用zookeeper实现服务注册中心，原理是什么？用到了zk的哪些特性
zookeeper实现注册中心的原理：
1、服务者将服务的访问地址注册到配置中心，实际上就是创建一个节点去保存这些信息，让消费者获取
2、消费者第一调用时，会将该服务的ip缓存到本地(这就是为什么zookeeper集群挂了，服务还能访问的原因)，再次调用时不走zookeeper了，直接走缓存(通过负载均衡算法从缓存的ip列表调用)
3、服务提供者某台机子挂了，相应的ip从ip列表移除。当然，如果有新的ip，注册中心也会将新的ip地址发给消费者，纯存在ip列表中
4、某个服务所有ip下线了，这个服务就下线了
5、服务方可以根据消费者数量来作为服务下线的依据
感知服务的下线/上线
心跳的原理：zookeeper定制想个服务器发送请求(其实是socket长连接)，如果长期没响应，就认为对应ip的服务挂了，就剔除该ip
用到了哪些特性
1、临时节点：ip挂了后，该节点的注册信息会被删除
持久化节点：目录节点不需要每次都来创建
2、watcher机制,监听节点的变化(A终端修改节点值，B终端会提醒节点修改了，但是只提醒一次，监听事件触发后，就失效。怎么办，可以再启动监听)
结合临时节点特性，实现了服务的动态感知
为了解决什么问题？
1、通用配置改变后，怎么通知所有的服务器配置生效
2、一台节点挂了，怎么通知集群中其他所有节点